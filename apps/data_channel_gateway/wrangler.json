{
    "$schema": "./node_modules/wrangler/config-schema.json",
    "name": "data_channel_gateway",
    "compatibility_date": "2025-04-01",
    "compatibility_flags": ["nodejs_compat"],
    "main": "./src/index.ts",
    "services": [
        {
            "binding": "DATA_CHANNEL_REGISTRAR",
            "service": "data_channel_registrar"
        },
        {
            "binding": "AUTHX_TOKEN_API",
            "service": "authx_token_api"
        },
        {
            "binding": "AUTHX_AUTHZED_API",
            "service": "authx_authzed_api"
        },
        {
            "binding": "ISSUED_JWT_WORKER",
            "service": "issued-jwt-registry"
        }
    ],
    "dev": {
        "ip": "localhost",
        "port": 5051
    },
    "env": {
        "staging": {
            "services": [
                {
                    "binding": "DATA_CHANNEL_REGISTRAR",
                    "service": "data_channel_registrar-staging"
                },
                {
                    "binding": "AUTHX_TOKEN_API",
                    "service": "authx_token_api-staging"
                },
                {
                    "binding": "AUTHX_AUTHZED_API",
                    "service": "authx_authzed_api-staging"
                },
                {
                    "binding": "ISSUED_JWT_WORKER",
                    "service": "issued-jwt-registry-staging"
                }
            ],
            "routes": [
                {
                    "pattern": "gateway.catalyst.devintelops.io",
                    "custom_domain": true
                }
            ]
        },
        "demo": {
            "services": [
                {
                    "binding": "DATA_CHANNEL_REGISTRAR",
                    "service": "data_channel_registrar-demo"
                },
                {
                    "binding": "AUTHX_TOKEN_API",
                    "service": "authx_token_api-demo"
                },
                {
                    "binding": "AUTHX_AUTHZED_API",
                    "service": "authx_authzed_api-demo"
                },
                {
                    "binding": "ISSUED_JWT_WORKER",
                    "service": "issued-jwt-registry-demo"
                }
            ],
            "routes": [
                {
                    "pattern": "gateway.catalyst.demointelops.io",
                    "custom_domain": true
                }
            ]
        }
    }
}
